<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Horario de Reproducción - Aviradio2</title>
  <style>
    body {
      background-color: #00BFFF;
      margin: 0;
      padding: 0;
    }

    .contenedor-flex {
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      padding: 30px 60px;
      gap: 60px;
      color: white;
      font-family: Arial, sans-serif;
    }

    .izquierda {
      width: 560px;
    }

    .derecha {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      line-height: 1.6;
      text-align: center;
      min-height: 315px;
    }

    #versiculoDia {
      white-space: pre-line;
      max-width: 420px;
      font-size: 20px;
      text-align: left;
      color: #fff;
    }

    .schedule h2, .schedule h1, .schedule p, .schedule h3 {
      color: #fff;
      margin: 6px 0;
    }
  </style>
</head>
<body>
  <div class="contenedor-flex">
    <div class="izquierda">
      <h1 style="text-align: center; margin: 0;">Horario de Reproducción</h1>
      <h2 style="text-align: center; margin: 6px 0 0 0;">Reproductor de fuego</h2>

      <!-- Reproductor único -->
      <div id="player" style="margin-top: 20px;"></div>

      <div class="schedule" style="margin-top: 20px;">
        <h1>Muchas gracias por escuchar aviradio2, a continuación información que debe saber:</h1>
        <p>aviradio2 es una plataforma las 24/7 del año.</p>
        <h1>Horarios:</h1>
        <h2>1-5am: música instrumental.</h2>
        <h2>6-10am: música cristiana, Pan del Cielo, Sid Roth y lectura bíblica.</h2>
        <h2>10am-2pm: prédica de avivamiento y Dante Gebel.</h2>
        <h2>2-5pm: música cristiana, noticias cristianas.</h2>
        <h2>5-7pm: zona kids (un espacio para los niños y niñas).</h2>
        <h2>7-9pm: prédica de la noche, Dante Gebel, Sid Roth noche.</h2>
        <h2>9-10pm: películas cristianas.</h2>
        <h2>10pm-12am: noches con Jesús y sinmitomanos.</h2>
        <h3>Nota: los programas no son los mismos para todos. Todos los lunes se hacen modificaciones.</h3>

        <p>Aviradio2: Ciudad creada: Bucaramanga. Disponible en idioma: español. 100% cristiano.</p>
      </div>
    </div>

    <div class="derecha">
      <div id="versiculoDia"></div>
    </div>
  </div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    // Horarios corregidos: cada objeto tiene inicio, fin y array de videos.
    const horarios = [
      { inicio: 1, fin: 5, videos: [
        "https://www.youtube.com/embed/sslrepbO5M8",
        "https://www.youtube.com/embed/Hs6WG7BUR1g",
        "https://www.youtube.com/embed/Nqo-T1nrGps",
        "https://www.youtube.com/embed/mDbVhuRD2es"
      ]},
      { inicio: 6, fin: 10, videos: [
        "https://www.youtube.com/embed/iHk1JUeRKnI",
        "https://www.youtube.com/embed/vcTF1R3GQ28",
        "https://www.youtube.com/embed/Zm8gVuOp6Bs",
        "https://www.youtube.com/embed/dn6niGluKiE",
        "https://www.youtube.com/embed/QuJ-VLwvM9o",
        "https://www.youtube.com/embed/Fd6u7tFhGKg",
        "https://www.youtube.com/embed/qPdcmZsRLHI"
      ]},
      { inicio: 10, fin: 14, videos: [
        "https://www.youtube.com/embed/B9YMRfBN94Q",
        "https://www.youtube.com/embed/UZImbkaVA1k",
        "https://www.youtube.com/embed/ooLWXIbLi_g"
      ]},
      { inicio: 14, fin: 17, videos: [
        "https://www.youtube.com/embed/-_WSYpuXcb8",
        "https://www.youtube.com/embed/6MJpI_KMm64",
        "https://www.youtube.com/embed/DCeEMhzi9QE"
      ]},
      { inicio: 17, fin: 19, videos: [
        "https://www.youtube.com/embed/k9hXRsCtFFk",
        "https://www.youtube.com/embed/yZaSf7h-mn8",
        "https://www.youtube.com/embed/dnBS59kEjLo"
      ]},
      { inicio: 19, fin: 21, videos: [
        "https://www.youtube.com/embed/B9YMRfBN94Q",
        "https://www.youtube.com/embed/UZImbkaVA1k",
        "https://www.youtube.com/embed/BK3WS2Lqb2k",
        "https://www.youtube.com/embed/kSJa40uCctE"
      ]},
      { inicio: 21, fin: 22, videos: [
        "https://www.youtube.com/embed/uu1OLcHjmQo",
        "https://www.youtube.com/embed/Cz-aiFtjQVo"
      ]},
      { inicio: 22, fin: 24, videos: [
        "https://www.youtube.com/embed/mrA6bDCQ_Yo",
        "https://www.youtube.com/embed/Q0k37XsTtNE",
        "https://www.youtube.com/embed/liCr-oFzilU"
      ]}
    ];

    let player;

    function getVideoList() {
      const now = new Date();
      const hour = now.getHours(); // 0..23
      // encontrar el grupo que cubra la hora actual
      const grupo = horarios.find(h => hour >= h.inicio && hour < h.fin);
      return grupo ? grupo.videos : [];
    }

    function getRandomVideoUrl() {
      const videos = getVideoList();
      if (!videos || videos.length === 0) return null;
      const randomIndex = Math.floor(Math.random() * videos.length);
      return videos[randomIndex];
    }

    function mostrarVersiculoDelDia() {
      const versiculosPorDia = [
        ["Porque de tal manera amó Dios... – Juan 3:16", "Deléitate en Jehová... – Salmos 37:4"],
        ["El Señor es mi pastor; nada me faltará. – Salmos 23:1", "Bendice, alma mía, al Señor. – Salmos 103:1"],
        ["El temor del Señor es el principio de la sabiduría. – Proverbios 9:10", "Confía en el Señor con todo tu corazón. – Proverbios 3:5"],
        ["Y conoceréis la verdad, y la verdad os hará libres. – Juan 8:32", "Amarás a tu prójimo como a ti mismo. – Mateo 22:39"],
        ["Todo lo puedo en Cristo que me fortalece. – Filipenses 4:13", "No temas, porque yo estoy contigo. – Isaías 41:10"],
        ["Porque yo sé los planes que tengo para vosotros. – Jeremías 29:11", "Buscad primeramente el reino de Dios. – Mateo 6:33"],
        ["Ninguna cosa podrá separarnos del amor de Dios. – Romanos 8:38-39", "Sed siempre humildes y amables. – Efesios 4:2"]
      ];
      const dia = new Date().getDay(); // 0 (domingo) ... 6
      const versiculos = versiculosPorDia[dia] || versiculosPorDia[0];
      const versiculo = versiculos[Math.floor(Math.random() * versiculos.length)];
      const el = document.getElementById("versiculoDia");
      if (el) el.textContent = versiculo;
    }

    // API de YouTube llama a esta función cuando está lista
    function onYouTubeIframeAPIReady() {
      const videoUrl = getRandomVideoUrl();
      if (!videoUrl) {
        // no hay video para la hora actual
        return;
      }
      const videoId = videoUrl.split("/embed/")[1];

      player = new YT.Player("player", {
        height: "315",
        width: "560",
        videoId: videoId,
        playerVars: {
          autoplay: 1,
          rel: 0,
          modestbranding: 1
        },
        events: {
          onStateChange: function(event) {
            // cuando termina, cargar otro video aleatorio del mismo bloque horario
            if (event.data === YT.PlayerState.ENDED) {
              const nextUrl = getRandomVideoUrl();
              if (nextUrl && player && player.loadVideoById) {
                const nextId = nextUrl.split("/embed/")[1];
                player.loadVideoById(nextId);
              }
            }
          }
        }
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      mostrarVersiculoDelDia();
    });
  </script>
</body>
</html>
