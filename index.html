<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Horario de Reproducción - Aviradio2</title>
  <style>
    body {
      background-color: #00BFFF;
      margin: 0;
      padding: 0;
    }

    .contenedor-flex {
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      padding: 30px 60px;
      gap: 60px;
      color: white;
      font-family: Arial, sans-serif;
    }

    .izquierda {
      width: 560px;
    }

    .derecha {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      line-height: 1.6;
      text-align: center;
      min-height: 315px;
    }

    #versiculoDia {
      white-space: pre-line;
      max-width: 420px;
      font-size: 20px;
      text-align: left;
      color: #fff;
    }

    .schedule h2, .schedule h1, .schedule p, .schedule h3 {
      color: #fff;
      margin: 6px 0;
    }

    #playerMessage {
      color: #fff;
      background: rgba(0,0,0,0.25);
      padding: 10px;
      border-radius: 6px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="contenedor-flex">
    <div class="izquierda">
      <h1 style="text-align: center; margin: 0;">Horario de Reproducción</h1>
      <h2 style="text-align: center; margin: 6px 0 0 0;">Reproductor de fuego</h2>

      <!-- Reproductor único -->
      <div id="player" style="margin-top: 20px; min-width: 300px; min-height: 180px;"></div>
      <div id="playerMessage" style="margin-top: 12px; display: none;"></div>

      <div class="schedule" style="margin-top: 20px;">
        <h1>Muchas gracias por escuchar aviradio2, a continuación información que debe saber:</h1>
        <p>aviradio2 es una plataforma las 24/7 del año.</p>
        <h1>Horarios:</h1>
        <h2>0-6am: música instrumental para adorar a Dios.</h2>
        <h2>6-10am: música cristiana relajante, Pan del Cielo, Sid Roth y lectura bíblica.</h2>
        <h2>10am-2pm: prédica de avivamiento y Dante Gebel.</h2>
        <h2>2-5pm: música cristiana rock, noticias cristianas.</h2>
        <h2>5-7pm: videos para niño y niñas 100% cristianos.</h2>
        <h2>7-9pm: prédica de la noche, Dante Gebel, Sid Roth noche.</h2>
        <h2>9-10pm: películas cristianas.</h2>
        <h2>10pm-12am: noches con Jesús y sinmitomanos.</h2>
        <h3>Nota: los programas no son los mismos para todos. Todos los los dias si se puede se hacen modificaciones.</h3>

        <p>Aviradio2: Ciudad creada: Floridablanca. Disponible en idioma: español.proximamente:ingles. 100% cristiano.Videos revisadoss antes de ser usados</p>
      </div>
    </div>

    <div class="derecha">
      <div id="versiculoDia"></div>
    </div>
  </div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    // Ajusté los horarios para cubrir 0..23 sin huecos
    //musica intrumental para adorar a Dios
    const horarios = [
      { inicio: 0, fin: 6, videos: [
        "https://www.youtube.com/embed/Xx1MjhzKcYw",
        "https://www.youtube.com/embed/KA5eCBs5XgM",
        "https://www.youtube.com/embed/8WqyGIV2mAM",
        "https://www.youtube.com/embed/DlAZxnpsFdo",
        "https://www.youtube.com/embed/Zc3T2MpHGVg",
        "https://www.youtube.com/embed/vELBkxa-8EQ",
        "https://www.youtube.com/embed/fOB73qRVGJs",
        "https://www.youtube.com/embed/_ORVy3OqE-E",
        "https://www.youtube.com/embed/XXwiSOwmgMk",
        "https://www.youtube.com/embed/Mz5CrpiV5YY"
      ]},
      { inicio: 6, fin: 10, videos: [
        //musica relajante
        "https://www.youtube.com/embed/712FynoBXZY",
        "https://www.youtube.com/embed/uQoQqemTZ-s",
        "https://www.youtube.com/embed/JalJiRc_zew",
        "https://www.youtube.com/embed/-CKwAMEyPIQ",
        "https://www.youtube.com/embed/Ys2hfZ6jE6o",
        //pan del cielo
        "https://www.youtube.com/embed/LG0EtK4sVqk",
        "https://www.youtube.com/embed/3VRzK-bORBQ",
        "https://www.youtube.com/embed/s60yKtQvDp4",
        //sid roth
        "https://www.youtube.com/embed/pJyHpcmo5Uc",
        "https://www.youtube.com/embed/mnre1XLqP3c",
        "https://www.youtube.com/embed/PPNR46Lt9vI",
        "https://www.youtube.com/embed/BoEWeP7G2fw",
        "https://www.youtube.com/embed/mlQaJoMKl_Y",
        //lectura biblica
        "https://www.youtube.com/embed/Fv4CXQ17Rc4",
        "https://www.youtube.com/embed/Ce3qpDc4ex8",
        "https://www.youtube.com/embed/YCd2VetOfKY",
        "https://www.youtube.com/embed/UxqEIqZ--cM",
        "https://www.youtube.com/embed/GilrvITVxsY"
      ]},
      { inicio: 10, fin: 14, videos: [
        "",
        "",
        ""
      ]},
      { inicio: 14, fin: 17, videos: [
        "",
        "",
        ""
      ]},
      { inicio: 17, fin: 19, videos: [
        "",
        "",
        ""
      ]},
      { inicio: 19, fin: 21, videos: [
        "",
        "",
        "",
        ""
      ]},
      { inicio: 21, fin: 22, videos: [
        "",
        ""
      ]},
      { inicio: 22, fin: 24, videos: [
        "",
        "",
        ""
      ]}
    ];

    let player;

    function getVideoList() {
      const now = new Date();
      let hour = now.getHours(); // 0..23
      // encontrar el grupo que cubra la hora actual
      const grupo = horarios.find(h => hour >= h.inicio && hour < h.fin);
      return grupo ? grupo.videos : [];
    }

    function getRandomVideoUrl() {
      const videos = getVideoList();
      if (!videos || videos.length === 0) return null;
      const randomIndex = Math.floor(Math.random() * videos.length);
      return videos[randomIndex];
    }

    function mostrarVersiculoDelDia() {
      const versiculosPorDia = [
        ["Porque de tal manera amó Dios... – Juan 3:16", "Deléitate en Jehová... – Salmos 37:4"],
        ["El Señor es mi pastor; nada me faltará. – Salmos 23:1", "Bendice, alma mía, al Señor. – Salmos 103:1"],
        ["El temor del Señor es el principio de la sabiduría. – Proverbios 9:10", "Confía en el Señor con todo tu corazón. – Proverbios 3:5"],
        ["Y conoceréis la verdad, y la verdad os hará libres. – Juan 8:32", "Amarás a tu prójimo como a ti mismo. – Mateo 22:39"],
        ["Todo lo puedo en Cristo que me fortalece. – Filipenses 4:13", "No temas, porque yo estoy contigo. – Isaías 41:10"],
        ["Porque yo sé los planes que tengo para vosotros. – Jeremías 29:11", "Buscad primeramente el reino de Dios. – Mateo 6:33"],
        ["Ninguna cosa podrá separarnos del amor de Dios. – Romanos 8:38-39", "Sed siempre humildes y amables. – Efesios 4:2"]
      ];
      const dia = new Date().getDay(); // 0 (domingo) ... 6
      const versiculos = versiculosPorDia[dia] || versiculosPorDia[0];
      const versiculo = versiculos[Math.floor(Math.random() * versiculos.length)];
      const el = document.getElementById("versiculoDia");
      if (el) el.textContent = versiculo;
    }

    // API de YouTube llama a esta función cuando está lista
    function onYouTubeIframeAPIReady() {
      const videoUrl = getRandomVideoUrl();
      const msgEl = document.getElementById("playerMessage");
      if (!videoUrl) {
        if (msgEl) {
          msgEl.style.display = "block";
          msgEl.textContent = "No hay videos programados para esta hora. Revisa el horario o intenta más tarde.";
        }
        return;
      }
      const videoId = videoUrl.split("/embed/")[1];

      player = new YT.Player("player", {
        height: "315",
        width: "560",
        videoId: videoId,
        playerVars: {
          autoplay: 1,
          rel: 0,
          modestbranding: 1,
          controls: 1
        },
        events: {
          onReady: function(event) {
            // Muchos navegadores permiten autoplay sólo si está silenciado.
            try {
              event.target.mute(); // mute al inicio para permitir autoplay
              event.target.playVideo();
            } catch (e) {
              console.warn("No se pudo mutear/reproducir automáticamente:", e);
            }
            if (msgEl) {
              msgEl.style.display = "none";
            }
          },
          onStateChange: function(event) {
            // cuando termina, cargar otro video aleatorio del mismo bloque horario
            if (event.data === YT.PlayerState.ENDED) {
              const nextUrl = getRandomVideoUrl();
              if (nextUrl && player && player.loadVideoById) {
                const nextId = nextUrl.split("/embed/")[1];
                player.loadVideoById(nextId);
              }
            }
            // si hay error, mostrar mensaje
            if (event.data === YT.PlayerState.UNSTARTED || event.data === -1) {
              // no hacemos nada especial aquí, pero podrías mostrar info.
            }
          }
        }
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      mostrarVersiculoDelDia();
    });
  </script>
</body>
</html>
